@model UserDetailDTO
@{
    ViewData["title"] = "Můj účet";
}

<div id="PageNavId" class="page-navbar">
    <div class="d-flex justify-content-between px-4 page-navbar-content">
        <div class="my-auto">   
        </div>
        <h1 class="my-auto text-font">Můj účet</h1>
        <div class="my-auto nav-placeholder">
            <button class="butn btn-p" onclick="ShowModal('AccountCreateId')">Změnit heslo</button>
        </div>
    </div>
    <form id="AccountCreateId" class="mx-4 mt-4 mb-3" action="/User/PwdChange" oninput="PasswordValidator(this)"
        onsubmit="AjaxFormSubmit(event, null, true, false, null, () => ShowAlert('Heslo bylo úspěšně změněno.'), () => ShowAlert('Heslo se nepodařilo změnit.', true))">
        <div class="d-flex justify-content-between align-content-center py-2 px-3 shadow-box mb-3 bg-ddd">
            <h2 class="mb-0">Změna hesla</h2>
            <i class="fas fa-times my-auto close-icon" onclick="HideModal()"></i>
        </div>
        <input id="IdId" type="hidden" name="Id" value="@Model.Id" />
        <div class="row">
            <div class="col-12 mb-3">
                <label class="input">
                    <input required class="input-field" type="password" placeholder=" " name="OldPassword" />
                    <span class="input-label">Staré heslo</span>
                </label>
            </div>
            <div class="col-12 mb-3">
                <label class="input">
                    <input id="PasswordId" required class="input-field" type="password" placeholder=" " name="NewPassword" />
                    <span class="input-label">Nové heslo</span>
                </label>
                <div id="PasswordWeakId" class="signin-fail d-none my-0">Heslo musí mít aspoň 10 znaků a aspoň jedno malé písmeno, velké písmeno, číslici a nealfanumerický znak.</div>
            </div>
            <div class="col-12 mb-3">
                <label class="input">
                    <input id="PasswordCheckId" required class="input-field" type="password" placeholder=" " name="PasswordCheck" />
                    <span class="input-label">Potvrzení hesla</span>
                </label>
                <div id="PasswordMismatchId" class="signin-fail d-none my-0">Hesla se neshodují.</div>
            </div>
            <div class="d-flex justify-content-center">
                <button form="AccountCreateId" type="submit" class="butn btn-s">Změnit</button>
            </div>
        </div>
    </form>
</div>
<div id="PageContentId" class="d-flex pt-3">
    <div id="DetailDivId" class="detail-div container-lg">
        @await Html.PartialAsync("Partial/_UserDetail", Model)
    </div>
    <div id="OverviewDivId" class="container-lg side-overview">
    </div>
    <div id="OverviewNavId" class="overview-nav overview-nav-hide"></div>
</div>
